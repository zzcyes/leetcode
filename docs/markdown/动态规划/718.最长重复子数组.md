# 718. æœ€é•¿é‡å¤å­æ•°ç»„

| Title | Describe |
| :---- | :---- |
| é¢˜ç›®  | [718. æœ€é•¿é‡å¤å­æ•°ç»„](https://leetcode-cn.com/problems/minimum-depth-of-binary-tree/) |
| éš¾åº¦  | â­â­ |

## é¢˜ç›®

ç»™ä¸¤ä¸ªæ•´æ•°æ•°ç»„Â AÂ å’ŒÂ BÂ ï¼Œè¿”å›ä¸¤ä¸ªæ•°ç»„ä¸­å…¬å…±çš„ã€é•¿åº¦æœ€é•¿çš„å­æ•°ç»„çš„é•¿åº¦ã€‚

ç¤ºä¾‹ï¼š

è¾“å…¥ï¼š
A: [1,2,3,2,1]
B: [3,2,1,4,7]
è¾“å‡ºï¼š3
è§£é‡Šï¼š
é•¿åº¦æœ€é•¿çš„å…¬å…±å­æ•°ç»„æ˜¯ [3, 2, 1] ã€‚

æç¤ºï¼š

1 <= len(A), len(B) <= 1000
0 <= A[i], B[i] < 100

## æ€è·¯

- **æš´åŠ›æ±‚è§£**ï¼Œä½¿ç”¨ä¸‰å±‚å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦ O(n^3)ã€‚

- **æ»‘åŠ¨çª—å£**ï¼Œåœ¨æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­—ä¸²çš„é¢˜è§£ä¸­ï¼Œå°±æœ‰æ»‘åŠ¨çª—å£çš„è§£æ³•ã€‚

ğŸ‘‡å¿«æŠŠè¿™ä¸ªç®—æ³•ææ‡‚ï¼

[æ»‘åŠ¨çª—å£ï¼ˆSliding Windowï¼‰ç®—æ³•ä»‹ç»](https://juejin.im/post/5c74a2e2f265da2dea053355)

- **åŠ¨æ€è§„åˆ’**ï¼Œ`dp[i][j] = dp[i + 1][j + 1] + 1`ã€‚


ä¸Šæ¬¡æ¥è§¦åŠ¨æ€è§„åˆ’è¿˜æ˜¯å¤§äºŒå­¦æœŸå¼€è®¾çš„è¿ç­¹å­¦ï¼Œè€å¸ˆæ¯èŠ‚è¯¾éƒ½è¦å¸ƒç½®ä½œä¸šï¼Œä¸Šè¯¾å‰è¿˜è¦æ£€æŸ¥ï¼Œå†å†åœ¨ç›®ï¼ï¼ï¼

ğŸ‘‡èµ¶ç´§æ¶è¡¥æ¦‚å¿µæ¡è‚¥æ¥ï¼

[ã€åŠ¨æ€è§„åˆ’ã€‘Dynamic Programming](https://blog.csdn.net/lisonglisonglisong/article/details/41548557)

[åŠ¨æ€è§„åˆ’ï¼šæ±‚æœ€é•¿å…¬å…±å­ä¸²/æœ€é•¿å…¬å…±å­åºåˆ—](https://www.kancloud.cn/digest/pieces-algorithm/163624)


## ç›¸ä¼¼

**æ»‘åŠ¨çª—å£**

- [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/)

**åŠ¨æ€è§„åˆ’**

- [1143. æœ€é•¿å…¬å…±å­åºåˆ—](https://leetcode-cn.com/problems/longest-common-subsequence/)

## é¢˜è§£

### æ–¹æ³•ä¸€ï¼šæš´åŠ›æ±‚è§£

- JavaScript

```JavaScript
/**
 * @param {number[]} A
 * @param {number[]} B
 * @return {number}
 */
var findLength = function(A, B) {
    let max = 0;
    for (let i=0; i<A.length; i++) {
        for (let j=0; j<B.length; j++) {
            let count = 0;
            while (i+count<A.length && j+count<B.length && A[i+count] == B[j+count]) {
                count++;
            }

            max = Math.max(max,count)
        }
    }
    return max;
};
```

### æ–¹æ³•äºŒï¼šæ»‘åŠ¨çª—å£

[å°é©¬çš„ç¬”è®°](http://masikkk.com/article/LeetCode.718.MaximumLengthOfRepeatedSubarray/)

![dp](./images/DP-001.gif)

gif å±•ç°äº†å®Œæ•´çš„è¿‡ç¨‹ï¼Œå…ˆç»å†äº†ï¼šA å›ºå®šï¼Œç§»åŠ¨ Bï¼Œæˆ‘ä»¬é€ä¸ªæ±‚å‡ºå…¬å…±å­æ•°ç»„çš„é•¿åº¦ã€‚ç„¶åç»å†äº†ï¼šB å›ºå®šï¼Œç§»åŠ¨ Aï¼Œæˆ‘ä»¬é€ä¸ªæ±‚å‡ºå…¬å…±å­æ•°ç»„çš„é•¿åº¦ã€‚ç»¼åˆæ¯”è¾ƒå‡ºæœ€é•¿çš„é•¿åº¦

```javascript
const findLength = (A, B) => {
  const m = A.length;
  const n = B.length;
  let res = 0;
  // Aå›ºå®šï¼Œç§»åŠ¨B
  for (let i = 0; i <= n; i++) {
    const len = Math.min(m, n - i); // å½“å‰çª—å£çš„é•¿åº¦
    const maxLen = getMaxLen(A, B, 0, i, len); //çª—å£å·¦ç«¯æ˜¯A[0]ï¼Œçª—å£å·¦ç«¯æ˜¯B[i]
    res = Math.max(res, maxLen);
  }
  // Bå›ºå®šï¼Œç§»åŠ¨A
  for (let i = 0; i <= m; i++) {
    const len = Math.min(n, m - i); // å½“å‰çª—å£çš„é•¿åº¦
    const maxLen = getMaxLen(A, B, i, 0, len);//çª—å£å·¦ç«¯æ˜¯A[i]ï¼Œçª—å£å·¦ç«¯æ˜¯B[0]
    res = Math.max(res, maxLen);
  }
  return res;
};

// çª—å£å·¦ç«¯å¯¹åº”Açš„ä½ç½®æ˜¯aStartï¼Œçª—å£å·¦ç«¯å¯¹åº”Bçš„ä½ç½®æ˜¯bStart
function getMaxLen(A, B, aStart, bStart, windowLen) {
  let res = 0;
  let subLen = 0;
  for (let i = 0; i < windowLen; i++) { // éå†çš„èŒƒå›´æ˜¯çª—å£çš„é•¿åº¦
    if (
      A[aStart + i] !== undefined &&    // æ²¡æœ‰è¶Šç•Œ
      B[bStart + i] !== undefined &&    // æ²¡æœ‰è¶Šç•Œ
      A[aStart + i] == B[bStart + i]    // å½“å‰é¡¹ç›¸åŒ
    ) {
      subLen++;                         // subLenç´¯åŠ 1
    } else {
      subLen = 0;                       // è¿™ä¸ªçª—å£æœ‰â€œæ‚è´¨â€ï¼ŒåºŸäº†
    }
    res = Math.max(res, subLen);
  }
  return res;
}
```

### æ–¹æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’

[ã€æ‰‹ç»˜å›¾è§£ã€‘DP å’Œ æ»‘åŠ¨çª—å£](https://leetcode-cn.com/problems/maximum-length-of-repeated-subarray/solution/zhe-yao-jie-shi-ken-ding-jiu-dong-liao-by-hyj8/)

çŠ¶æ€è½¬ç§»æ–¹ç¨‹
- dp[i][j] ï¼šé•¿åº¦ä¸º iï¼Œæœ«å°¾é¡¹ä¸º A[i-1] çš„å­æ•°ç»„ï¼Œé•¿åº¦ä¸º jï¼Œæœ«å°¾é¡¹ä¸º B[j-1] çš„å­æ•°ç»„ï¼ŒäºŒè€…çš„æœ€å¤§å…¬å…±åç¼€å­æ•°ç»„é•¿åº¦ï¼ˆå³ä»¥ A[i-1]ï¼ˆB[j-1]ï¼‰ä¸ºæœ«å°¾é¡¹çš„å…¬å…±å­æ•°ç»„ï¼‰

  - å¦‚æœ A[i-1] != B[j-1] ï¼Œ dp[i][j] = 0

  - å¦‚æœ A[i-1] == B[j-1] ï¼Œ dp[i][j] = dp[i-1][j-1] + 1

- base caseï¼šå¦‚æœ i==0 || j==0 ï¼Œå³å…¶ä¸­ä¸€ä¸ªæ˜¯é•¿åº¦ä¸º0çš„ç©ºæ•°ç»„ï¼Œæ²¡æœ‰å…¬å…±éƒ¨åˆ†ï¼Œdp[i][j] = 0

- æœ‰äº†çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œä» base case å‡ºå‘ï¼Œå¯é€’æ¨å‡º äºŒç»´æ•°ç»„ dp æ¯ä¸€é¡¹

- æœ€é•¿å…¬å…±å­æ•°ç»„ä»¥å“ªä¸€é¡¹ä¸ºæœ«å°¾é¡¹éƒ½æœ‰å¯èƒ½ï¼Œå³æ¯ä¸ª dp[i][j] éƒ½å¯èƒ½æ˜¯æœ€å¤§å€¼

**ä»£ç **

- æ—¶é—´å¤æ‚åº¦ O(n^2)ï¼Œå³ O(n * m)ã€‚ ç©ºé—´å¤æ‚åº¦ O(n * m)

- é™ç»´åç©ºé—´å¤æ‚åº¦ O(m)ï¼Œå¦‚æœæ²¡æœ‰ç©ºé—´å¤æ‚åº¦çš„è¦æ±‚ï¼Œé™ä¸é™éƒ½è¡Œ


```javascript
const findLength = (A, B) => {
  const m = A.length;
  const n = B.length;
  const dp = new Array(m + 1);
  for (let i = 0; i <= m; i++) {
    dp[i] = new Array(n + 1).fill(0);
  }                                 // åˆå§‹åŒ–äºŒç»´æ•°ç»„dpï¼Œæ¯ä¸€é¡¹éƒ½æ˜¯0
  let res = 0;
  for (let i = 1; i <= m; i++) {    // base caseçš„æƒ…å†µï¼Œåˆå§‹åŒ–æ—¶å·²åŒ…æ‹¬äº†
    for (let j = 1; j <= n; j++) {
      if (A[i - 1] == B[j - 1]) {
        dp[i][j] = dp[i - 1][j - 1] + 1;
      }                             // A[i-1]!=B[j-1]çš„æƒ…å†µï¼Œåˆå§‹åŒ–æ—¶å·²åŒ…æ‹¬äº†
      res = Math.max(dp[i][j], res);
    }
  }
  return res;
};
```

**é™ç»´åçš„DP ä»£ç **

- dp[i][j] åªä¾èµ–äºä¸Šä¸€è¡Œï¼Œä¸Šä¸€åˆ—ï¼Œå¯¹è§’çº¿çš„å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»å³ä¸Šè§’å¼€å§‹è®¡ç®—

- ä¸€ç»´æ•°ç»„ dp ï¼Œ dp[j] æ˜¯ä»¥ A[i-1], B[j-1] ä¸ºæœ«å°¾é¡¹çš„æœ€é•¿å…¬å…±å­æ•°ç»„çš„é•¿åº¦


```javascript
const findLength = (A, B) => {
  const m = A.length;
  const n = B.length;
  const dp = new Array(n + 1).fill(0);
  let res = 0;
  for (let i = 1; i <= m; i++) {
    for (let j = n; j >= 1; j--) {
      if (A[i - 1] == B[j - 1]) {
        dp[j] = dp[j - 1] + 1;
      } else {
        dp[j] = 0;
      }
      res = Math.max(dp[j], res);
    }
  }
  return res;
};
```
